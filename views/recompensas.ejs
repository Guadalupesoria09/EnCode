<%- include('includes/head.ejs') %>
<h1 class="title has-text-centered">RECOMPENSAS</h1>
<main>
    <% if(mensaje != '') { %>
        <div class="notification is-link">
            <button class="delete"></button>
            <%= mensaje %>
        </div>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                (document.querySelectorAll('.notification .delete') || []).forEach(($delete) => {
                    const $notification = $delete.parentNode;
    
                    $delete.addEventListener('click', () => {
                    $notification.parentNode.removeChild($notification);
                    });
                });
            });
        </script>
    <% } %>
    <br>
    <div class="control has-text-centered">
        <a href="<%= process.env.PATH_ENV %>promo/recompensas/agregar" class="button agregar-btn is-link">AGREGAR MÁS</a>
    </div>
    <br>

    <div class="box is-200x200">
        <div class="columns is-multiline">
            <% for (let recompensa of recompensas) { %>
                <div id="promocionesA" class="column is-4 is-one-quarter">
                    <div class="card">
                        <header class="card-header">
                            <p class="card-header-title"><%= recompensa.NombreRecompensa %></p>
                            <button class="card-header-icon" aria-label="more options">
                                <span class="icon">
                                    <i class="fas fa-angle-down" aria-hidden="true"></i>
                                </span>
                            </button>
                        </header>
                        <footer class="card-footer">
                            <a href="<%= process.env.PATH_ENV %>promo/editRecompensas/<%= recompensa.IDRecompensa %>" class="card-footer-item">Editar</a>
                            <a href="<%= process.env.PATH_ENV %>promo/delete/<%= recompensa.IDRecompensa %>" class="card-footer-item">Eliminar</a>
                        </footer>
                    </div>
                </div>
            <% } %>
        </div>
    </div>

    <!-- Paginación -->
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <!-- Botón para página anterior -->
        <% if (currentPage > 1) { %>
            <a class="pagination-previous" href="<%= process.env.PATH_ENV %>promo/recompensas?page=<%= currentPage - 1 %>">Anterior</a>
        <% } else { %>
            <a class="pagination-previous" disabled>Anterior</a>
        <% } %>

        <!-- Botón para página siguiente -->
        <% if (currentPage < totalPages) { %>
            <a class="pagination-next" href="<%= process.env.PATH_ENV %>promo/recompensas?page=<%= currentPage + 1 %>">Siguiente</a>
        <% } else { %>
            <a class="pagination-next" disabled>Siguiente</a>
        <% } %>

        <!-- Números de página -->
        <ul class="pagination-list">
            <% for (let i = 1; i <= totalPages; i++) { %>
                <li>
                    <a href="<%= process.env.PATH_ENV %>promo/recompensas?page=<%= i %>" class="pagination-link <%= currentPage === i ? 'is-current' : '' %>">
                        <%= i %>
                    </a>
                </li>
            <% } %>
        </ul>
    </nav>


    <br>
<%- include('includes/foot.ejs') %>